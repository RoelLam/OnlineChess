<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-image/iron-image.html">



<dom-module id="schaakbord-element">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
	<div>
		<center>
			<div id="poging2" style="height:{{height}}px;"><iron-image id="schaakbord" style="height:{{height}}px; width:{{width}}px;"sizing="contain" src="/Bord/Chess_Board.png"></iron-image></div>
			<content></content>
		</center>
	</div>
	<div id="send">
		<iron-ajax id="zet" method="POST" url="http://localhost:8080/zetten/zet" handle-as="text">
		</iron-ajax>
	</div>
  </template>

  <script>
	var iets = 0.75*window.screen.availHeight;
	var select = false;
	var field_one; var field_two;
    Polymer({
      is: 'schaakbord-element',

      properties: {
        width: {
          type: String,
          value: iets,
		  readOnly: true,
		  notify: true
        },
		height: {
          type: String,
          value: iets,
		  readOnly: true,
		  notify: true
        },
	  },	 
		 
	  listeners: {
		'tap':'selectPiece'
	  },
	  
	  selectPiece: function(e){
		var field = e.target.id;
		if(!select){		
			field_one = field;
			alert("field one " + field_one);
		}	else {
			field_two = field;
			alert("field one " + field_one + "\n field two " + field_two);
			this.$.zet.body= field_one;
			this.$.zet.generateRequest();
		}
		select = !select;

	  },
		
    });
  </script>
  
</dom-module>